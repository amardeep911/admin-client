import{A as N,u as y,r as d,j as e,B as x,I as a,a as i}from"./index-DP5l2bTG.js";import{h as w}from"./moment-C5S46NFB.js";const g=()=>{const m=y(),h=()=>m("/"),[p,c]=d.useState([]),[l,n]=d.useState("");d.useEffect(()=>{(async()=>{try{const s=await i.get("/unsend-trx");c(s.data.data)}catch(s){console.error("Failed to fetch history data",s)}})()},[]);const b=async r=>{try{await i.delete(`/unsend-trx?id=${r}`),c(s=>s.filter(f=>f._id!==r))}catch(s){console.error("Failed to delete:",s)}},j=r=>{n(r.target.value)},u=()=>{n("")},o=p.filter(r=>r.email.toLowerCase().includes(l.toLowerCase())),t={wordBreak:"break-word",whiteSpace:"normal",overflowWrap:"break-word"};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full my-4 flex items-center justify-between",children:e.jsxs(x,{variant:"link",onClick:h,className:"text-sm font-normal text-[#8C8C8C] !no-underline p-1 h-0 flex gap-2",children:[e.jsx(a.arrowLeft,{className:"w-4 h-4"}),"Unsend Trx"]})}),e.jsx("div",{className:"flex items-center justify-center pt-[1rem]",children:e.jsxs("div",{className:"bg-transparent w-full max-w-md rounded-lg mb-[60px] border-none dark",children:[e.jsxs("div",{className:"w-full flex bg-[#18191c] rounded-2xl px-2 items-center justify-center h-[50px] mb-3",children:[e.jsx(a.search,{className:"w-4 h-4 text-primary"}),e.jsx("input",{type:"text",placeholder:"Search by email...",value:l,onChange:j,className:"w-[85%] h-[50px] ml-2 text-sm bg-transparent border-0 text-white placeholder:text-primary focus:outline-none"}),l!==""?e.jsx(a.circleX,{className:"text-primary cursor-pointer",onClick:u}):""]}),o.length>0?o.map((r,s)=>e.jsx("div",{className:"mt-[1.5rem] w-full border-[10px] border-[#444444] rounded-lg",children:e.jsx("table",{className:"w-full table-auto",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border-b-2 border-[#949494] p-3 px-5 text-[#959595]",children:"SL No"}),e.jsx("td",{className:"border-b-2 border-[#949494] p-3",style:t,children:s+1})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-b-2 border-[#949494] p-3 px-5 text-[#959595]",children:"Email"}),e.jsx("td",{className:"border-b-2 border-[#949494] p-3",style:t,children:r.email})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-b-2 border-[#949494] p-3 px-5 text-[#959595]",children:"Trx Address"}),e.jsx("td",{className:"border-b-2 border-[#949494] p-3",style:t,children:r.trxAddress})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-b-2 border-[#949494] p-3 px-5 text-[#959595]",children:"Private Key"}),e.jsx("td",{className:"border-b-2 border-[#949494] p-3",style:t,children:r.trxPrivateKey})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-b-2 border-[#949494] p-3 px-5 text-[#959595]",children:"Date & Time"}),e.jsx("td",{className:"border-b-2 border-[#949494] p-3",style:t,children:w(r.createdAt).format("DD/MM/YYYY hh:mm:ss A")})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 px-5 text-[#959595]",children:"Action"}),e.jsx("td",{className:"p-3",children:e.jsx(x,{onClick:()=>b(r._id),children:e.jsx(a.trash,{className:"w-4 h-4 text-red-600"})})})]})]})})},s)):e.jsx("div",{className:"text-white text-center h-full flex items-center justify-center",children:"No data available"})]})})]})},k=N()(g);export{k as default};
